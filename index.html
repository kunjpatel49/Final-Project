<!doctype html>
<html>

<head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <meta name="google-signin-client_id" content="1012728731781-lg60k5d7rqj9s5462lqc4qsomr06c5t5.apps.googleusercontent.com.apps.googleusercontent.com">
</head>

<body>
    <!-- Include Dexie -->
    <script src="https://unpkg.com/dexie@latest/dist/dexie.js"></script>

    <script>
        var i = 0;
        var endpoint = "https://data.cityofchicago.org/resource/crimes.json";
         //
         // Define your database
         //
        var db = new Dexie("friend_database");
        db.version(1).stores({
            friends: 'id,case'
        });
        $.get(endpoint, function(response) {
            $.each(response, function(i, v) {
                db.friends.put({
                    id: v.id,
                    case :v.case_number
                });
            });
        }).then(function() {
            //
            // Then when data is stored, read from it
            //
            db.friends.each(friends => console.log(i++, friends.id));
        }).
        catch(function(error) {
            alert("Ooops: " + error);
        });
        if(!('indexedDB' in window)) {
            console.warn('This browser doesn\'t support IndexedDB');
        }
    </script>
</body>

</html>